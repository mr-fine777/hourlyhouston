<!DOCTYPE HTML>
<html lang="en">
<head>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="styles.css">
	<title>Hourly Houston</title>
	<meta name="description" content="Get updated content for Houston Hourly!">
	<meta name="author" content="Hourly Houston">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8">
	<link rel="icon" href="img/ico.png" media="(prefers-color-scheme: light)">
	<link rel="icon" href="img/icoW.png" media="(prefers-color-scheme: dark)">
</head>
<body>
	<!-- Mobile menu toggle: button-driven accessible drawer (replaces checkbox pattern) -->
<header class="site-header">
  <div class="header-left">
    <img src="img/icoW.png" alt="Hourly Houston logo" class="logo">
    <h2 class="site-title">Hourly Houston</h2>
  </div>

  <div class="header-right">
		<a href="#" class="cta-link" aria-label="Test">
			<button class="btn">Test</button>
		</a>
        	<!-- hamburger button: toggles the drawer on small screens -->
        	<button class="hamburger" aria-label="Open menu" aria-controls="drawer" aria-expanded="false" title="Open menu"><span class="bar"></span></button>
  </div>
</header>
<!-- clickable backdrop: clicking will close the drawer -->
<div class="backdrop" aria-hidden="true"></div>
<div class="hero-container">
  <div class="hero-body">
	<div class="hero">
		<img src="https://s.hdnux.com/photos/01/54/64/35/28526417/3/ratio3x2_960.webp" alt="This Is It Soul Food" />
		<h1>This Is It Soul Food closes historic Third Ward location after 66 years</h1>
		<p>But it's not the end for this Black-owned Houston restaurant.</p>
		<h4>TIME</h4>
	</div>
	<div class="recent-post-tier">
		<div class="story-card">
			<img src="https://pomf2.lain.la/f/hiqorfij.jpg">
			<h1>Story Title</h1>
			<p>The sleek design of the new smartphone offers a stylish solution for tech enthusiasts, combining cutting-edge features with user-friendly functionality. Its vibrant display and powerful battery ensure that users stay connected and engaged throughout the day.</p>
		</div>
		<div class="story-card">
			<img src="https://pomf2.lain.la/f/hiqorfij.jpg">
			<h1>Story Title</h1>
			<p>The sleek design of the new smartphone offers a stylish solution for tech enthusiasts, combining cutting-edge features with user-friendly functionality. Its vibrant display and powerful battery ensure that users stay connected and engaged throughout the day.</p>
		</div>
		<div class="story-card">
			<img src="https://pomf2.lain.la/f/hiqorfij.jpg">
			<h1>Story Title</h1>
			<p>The sleek design of the new smartphone offers a stylish solution for tech enthusiasts, combining cutting-edge features with user-friendly functionality. Its vibrant display and powerful battery ensure that users stay connected and engaged throughout the day.</p>
		</div>
		<div class="story-card">
			<img src="https://pomf2.lain.la/f/hiqorfij.jpg">
			<h1>Story Title</h1>
			<p>The sleek design of the new smartphone offers a stylish solution for tech enthusiasts, combining cutting-edge features with user-friendly functionality. Its vibrant display and powerful battery ensure that users stay connected and engaged throughout the day.</p>
		</div>
		<div class="story-card">
			<img src="https://pomf2.lain.la/f/hiqorfij.jpg">
			<h1>Story Title</h1>
			<p>The sleek design of the new smartphone offers a stylish solution for tech enthusiasts, combining cutting-edge features with user-friendly functionality. Its vibrant display and powerful battery ensure that users stay connected and engaged throughout the day.</p>
		</div>
		<div class="story-card">
			<img src="https://pomf2.lain.la/f/hiqorfij.jpg">
			<h1>Story Title</h1>
			<p>The sleek design of the new smartphone offers a stylish solution for tech enthusiasts, combining cutting-edge features with user-friendly functionality. Its vibrant display and powerful battery ensure that users stay connected and engaged throughout the day.</p>
		</div>
		<div class="page-holding">
		<div class="page-indexer">
			<button class="arrow left">&#8592;</button>
			<span class="page-number">Page 1</span>
			<button class="arrow right">&#8594;</button>
		</div>
		</div>
	</div>
  </div>
	<div class="hero-side" id="drawer" role="dialog" aria-modal="true" aria-hidden="true">
		<button class="drawer-close" aria-label="Close menu">×</button>
	<h2 id="timer" style="font-size: 32px; text-align: center; color: white;">00:00xm</h2>
    <div class="weather-card">
	<h1>Downtown Houston</h1>
	<h2 id="77002">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Midtown</h1>
	<h2 id="77002">00°</h2>
	</div>
	<div class="weather-card">
	<h1>The Woodlands</h1>
	<h2 id="77380">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Spring</h1>
	<h2 id="77373">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Kingwood</h1>
	<h2 id="77339">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Memorial</h1>
	<h2 id="77024">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Katy</h1>
	<h2 id="77493">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Pearland</h1>
	<h2 id="77584">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Sugar Land</h1>
	<h2 id="77478">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Pasadena</h1>
	<h2 id="77502">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Baytown</h1>
	<h2 id="77520">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Humble</h1>
	<h2 id="77338">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Galveston</h1>
	<h2 id="77550">00°</h2>
	</div>
	<div class="weather-card">
	<h1>La Porte</h1>
	<h2 id="77571">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Conroe</h1>
	<h2 id="77301">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Tomball</h1>
	<h2 id="77375">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Cypress</h1>
	<h2 id="77429">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Missouri City</h1>
	<h2 id="77459">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Stafford</h1>
	<h2 id="77477">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Seabrook</h1>
	<h2 id="77586">00°</h2>
	</div>
	<div class="weather-card">
	<h1>League City</h1>
	<h2 id="77573">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Huffman</h1>
	<h2 id="77336">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Atascocita</h1>
	<h2 id="77346">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Briarforest</h1>
	<h2 id="77077">00°</h2>
	</div>
	<div class="weather-card">
	<h1>Channelview</h1>
	<h2 id="77530">00°</h2>
	</div>
	<div class="side-ad-card">
	
	</div>
  </div>
</div>
<script>
// Drawer behavior, focus management, ESC handling, swipe-to-close and backdrop handling
;(function(){
	const drawer = document.getElementById('drawer');
	const backdrop = document.querySelector('.backdrop');
	const openBtn = document.querySelector('.hamburger');
	const closeBtn = document.querySelector('.drawer-close');
	if(!drawer || !openBtn) return;

	let lastFocused = null;

	function isSmallViewport(){ return window.matchMedia && window.matchMedia('(max-width: 520px)').matches; }

	function lockScroll(){
		if(!isSmallViewport()) return;
		const scrollY = window.scrollY || document.documentElement.scrollTop || 0;
		document.body.dataset.scrollY = String(scrollY);
		document.body.style.position = 'fixed';
		document.body.style.top = `-${scrollY}px`;
		document.body.style.left = '0';
		document.body.style.right = '0';
		document.body.style.width = '100%';
		document.body.classList.add('no-scroll');
	}

	function unlockScroll(){
		const prev = document.body.dataset.scrollY ? parseInt(document.body.dataset.scrollY, 10) : 0;
		document.body.style.position = '';
		document.body.style.top = '';
		document.body.style.left = '';
		document.body.style.right = '';
		document.body.style.width = '';
		delete document.body.dataset.scrollY;
		document.body.classList.remove('no-scroll');
		window.scrollTo(0, prev);
	}

	function openDrawer(){
		lastFocused = document.activeElement;
		document.body.classList.add('menu-open');
		drawer.setAttribute('aria-hidden', 'false');
		openBtn.setAttribute('aria-expanded', 'true');
		if(backdrop) backdrop.setAttribute('aria-hidden', 'false');
		lockScroll();
		// move focus to the first focusable element inside the drawer (close button)
		const focusable = drawer.querySelector('button, [href], input, textarea, select, [tabindex]:not([tabindex="-1"])');
		(focusable || drawer).focus();
		// trap focus
		document.addEventListener('focus', trapFocus, true);
		document.addEventListener('keydown', onKeyDown, true);
	}

	function closeDrawer(){
		document.body.classList.remove('menu-open');
		drawer.setAttribute('aria-hidden', 'true');
		openBtn.setAttribute('aria-expanded', 'false');
		if(backdrop) backdrop.setAttribute('aria-hidden', 'true');
		unlockScroll();
		document.removeEventListener('focus', trapFocus, true);
		document.removeEventListener('keydown', onKeyDown, true);
		if(lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
	}

	function onKeyDown(e){
		if(e.key === 'Escape') { closeDrawer(); }
		if(e.key === 'Tab') { maintainFocus(e); }
	}

	function trapFocus(e){
		if(!drawer.contains(e.target) && document.body.classList.contains('menu-open')){
			e.stopPropagation();
			drawer.querySelector('button, [href], input, textarea, select')?.focus();
		}
	}

	function maintainFocus(e){
		const focusable = Array.from(drawer.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])')).filter(Boolean);
		if(!focusable.length) return;
		const first = focusable[0];
		const last = focusable[focusable.length - 1];
		if(e.shiftKey && document.activeElement === first){
			e.preventDefault(); last.focus();
		} else if(!e.shiftKey && document.activeElement === last){
			e.preventDefault(); first.focus();
		}
	}

	// open/close handlers
	openBtn.addEventListener('click', function(){
		if(document.body.classList.contains('menu-open')) closeDrawer(); else openDrawer();
	});
	if(closeBtn) closeBtn.addEventListener('click', closeDrawer);
	if(backdrop) backdrop.addEventListener('click', closeDrawer);

	// close on resize to larger viewports
	function syncOnResize(){ if(!isSmallViewport() && document.body.classList.contains('menu-open')) closeDrawer(); }
	window.addEventListener('resize', syncOnResize);
	window.addEventListener('orientationchange', syncOnResize);

	// Swipe-to-close on drawer (touch)
	let startX = null; let startY = null;
	const threshold = 40; const restraint = 120;
	drawer.addEventListener('touchstart', function(e){ const t = e.changedTouches[0]; startX = t.pageX; startY = t.pageY; }, {passive:true});
	drawer.addEventListener('touchend', function(e){ if(startX === null) return; const t = e.changedTouches[0]; const distX = t.pageX - startX; const distY = Math.abs(t.pageY - startY); if(distX > threshold && distY < restraint){ closeDrawer(); } startX = null; startY = null; }, {passive:true});

    // Timer functionality for Central Daylight Time (CDT)
    function updateTimer() {
        const timerElement = document.getElementById('timer');
        if (!timerElement) return;

        // Get the current time in CDT
        const now = new Date();
        const options = { timeZone: 'America/Chicago', hour: '2-digit', minute: '2-digit', hour12: true };
        const timeString = new Intl.DateTimeFormat('en-US', options).format(now);

        // Update the timer element
        timerElement.textContent = timeString;
    }

    // Update the timer every second
    setInterval(updateTimer, 1000);
    updateTimer();

    // Weather functionality
    const weatherApiKey = 'c2220dbbb713e0f1476fb2717920c80a'; // Replace with your OpenWeatherMap API key
    const zipCodes = ['77002', '77380', '77373', '77339', '77024', '77493', '77584', '77478', '77502', '77520', '77338', '77550', '77571', '77301', '77375', '77429', '77459', '77477', '77586', '77573', '77336', '77346', '77077', '77530'];

    async function fetchWeather(zip) {
        const url = `https://api.openweathermap.org/data/2.5/weather?zip=${zip},us&units=imperial&appid=${weatherApiKey}`;
        try {
            const response = await fetch(url);
            if (!response.ok) throw new Error(`Failed to fetch weather for ${zip}`);
            const data = await response.json();
            return data.main.temp; // Temperature in Fahrenheit
        } catch (error) {
            console.error(error);
            return null;
        }
    }

    async function updateWeather() {
        for (const zip of zipCodes) {
            const temp = await fetchWeather(zip);
            const weatherElement = document.getElementById(zip);
            if (weatherElement && temp !== null) {
                weatherElement.textContent = `${Math.round(temp)}°F`;
            }
        }
    }

    // Fetch and update weather data
    updateWeather();

})();
</script>
</body>
</html>
